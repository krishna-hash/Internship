<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Document</title>
    <!-- CSS only -->
    
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="./style/home.css">

</head>
<body>
    <main>
        <div class="wrapper">
          <section class="container mail-container">
            
              <fieldset>
                <p id="error" style="color: red; margin-top: 10px;padding: 10px;"></p>
                <div>
                    <img    style="object-fit: contain;" src="https://images.idgesg.net/images/article/2018/05/gmail_logo-100758589-large.jpg" alt="signin with mail & password">
                </div>
              <div>
               
                <input type="email" id="mail"  autocomplete="off" placeholder="Email"/>
              </div>
              <div>
         
                <input type="password"  autocomplete="off" id="password" placeholder="password"/>
              </div>
     
        <button onclick="loginFunction()" id="signInWithMail">Login</button>
        <a href="./signup.html" id="signUp">Signup</a>
    
            </fieldset>    
            <div class="social">
                <button id="facebook" onclick="signinfb()">Sigin with facebook</button>
                <button id="google" onclick="signingoogle()" >Sigin with Google</button>
              </div>
        </section>

       
      </main>

    
      <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-auth.js"></script>

      <!-- firebaseUI -->
      <script src="https://cdn.firebase.com/libs/firebaseui/4.0.0/firebaseui.js"></script>
      <script>
          const mailField = document.getElementById('mail');
const passwordField = document.getElementById('password');
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyANiLV6L7s5C_taJilwZVQtTxx6KrE8uc0",
          authDomain: "internship-38b23.firebaseapp.com",
          projectId: "internship-38b23",
          storageBucket: "internship-38b23.appspot.com",
          messagingSenderId: "802441744032",
        
          appId: "1:802441744032:web:b444570eb1437c945103c5",
          measurementId: "G-KYBWBFC8Q2"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    

        const loginFunction = () => {
    const email = mailField.value;
    const password = passwordField.value;

    //Built in firebase function responsible for signing up a user
    firebase.auth().signInWithEmailAndPassword(email, password)
    .then(() => {
        console.log('Signed Up Successfully !');
        window.location.assign("./profile.html")
    })
    .catch(error => {
      console.error(error);
        
        document.getElementById("error").textContent= "**" + error.message

    })
}


     const signingoogle =()=>{
    const provider = new firebase.auth.GoogleAuthProvider();

   firebase.auth().signInWithPopup(provider).then(data=>{
    console.log(data)
    window.location.assign("./profile.html")
   } 
   
   ).catch(err=> {
    console.log(err)
      document.getElementById("error").textContent= "**" + error.message
   } 

   )
}
const signinfb =()=>{
    const provider = new firebase.auth.FacebookAuthProvider();

   firebase.auth().signInWithPopup(provider).then(data=>{
    console.log(data)
    window.location.assign("./profile.html")
    
   }
   
   ).catch(err=> {
    console.log(err)
   document.getElementById("error").textContent= "**" + error.message
   }
  

   )
}
        
      </script>

        
   

</body>
</html>